[2023-06-20 21:40:01,422] {taskinstance.py:1043} INFO - Dependencies all met for <TaskInstance: minio_sensor.minio_sensor_s3 manual__2023-06-20T21:40:00.177841+00:00 [queued]>
[2023-06-20 21:40:01,431] {taskinstance.py:1043} INFO - Dependencies all met for <TaskInstance: minio_sensor.minio_sensor_s3 manual__2023-06-20T21:40:00.177841+00:00 [queued]>
[2023-06-20 21:40:01,432] {taskinstance.py:1249} INFO - 
--------------------------------------------------------------------------------
[2023-06-20 21:40:01,433] {taskinstance.py:1250} INFO - Starting attempt 1 of 1
[2023-06-20 21:40:01,434] {taskinstance.py:1251} INFO - 
--------------------------------------------------------------------------------
[2023-06-20 21:40:01,442] {taskinstance.py:1270} INFO - Executing <Task(S3KeySensor): minio_sensor_s3> on 2023-06-20 21:40:00.177841+00:00
[2023-06-20 21:40:01,447] {standard_task_runner.py:52} INFO - Started process 546 to run task
[2023-06-20 21:40:01,450] {standard_task_runner.py:79} INFO - Running: ['***', 'tasks', 'run', 'minio_sensor', 'minio_sensor_s3', 'manual__2023-06-20T21:40:00.177841+00:00', '--job-id', '5', '--raw', '--subdir', 'DAGS_FOLDER/dag_with_minio.py', '--cfg-path', '/tmp/tmp272pwd8l', '--error-file', '/tmp/tmp0ohu489u']
[2023-06-20 21:40:01,457] {standard_task_runner.py:80} INFO - Job 5: Subtask minio_sensor_s3
[2023-06-20 21:40:01,508] {logging_mixin.py:109} INFO - Running <TaskInstance: minio_sensor.minio_sensor_s3 manual__2023-06-20T21:40:00.177841+00:00 [running]> on host 4772b5dcfc1f
[2023-06-20 21:40:01,555] {taskinstance.py:1448} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=Servin
AIRFLOW_CTX_DAG_ID=minio_sensor
AIRFLOW_CTX_TASK_ID=minio_sensor_s3
AIRFLOW_CTX_EXECUTION_DATE=2023-06-20T21:40:00.177841+00:00
AIRFLOW_CTX_DAG_RUN_ID=manual__2023-06-20T21:40:00.177841+00:00
[2023-06-20 21:40:01,557] {s3.py:105} INFO - Poking for key : s3://***/data.csv
[2023-06-20 21:40:01,568] {base_aws.py:431} WARNING - Unable to use Airflow Connection for credentials.
[2023-06-20 21:40:03,637] {taskinstance.py:1774} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/sensors/base.py", line 236, in execute
    while not self.poke(context):
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/providers/amazon/aws/sensors/s3.py", line 108, in poke
    return self.get_hook().check_for_key(self.bucket_key, self.bucket_name)
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/providers/amazon/aws/hooks/s3.py", line 62, in wrapper
    return func(*bound_args.args, **bound_args.kwargs)
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/providers/amazon/aws/hooks/s3.py", line 90, in wrapper
    return func(*bound_args.args, **bound_args.kwargs)
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/providers/amazon/aws/hooks/s3.py", line 311, in check_for_key
    self.get_conn().head_object(Bucket=bucket_name, Key=key)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/client.py", line 357, in _api_call
    return self._make_api_call(operation_name, kwargs)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/client.py", line 663, in _make_api_call
    operation_model, request_dict, request_context)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/client.py", line 682, in _make_request
    return self._endpoint.make_request(operation_model, request_dict)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/endpoint.py", line 102, in make_request
    return self._send_request(request_dict, operation_model)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/endpoint.py", line 132, in _send_request
    request = self.create_request(request_dict, operation_model)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/endpoint.py", line 116, in create_request
    operation_name=operation_model.name)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/hooks.py", line 356, in emit
    return self._emitter.emit(aliased_event_name, **kwargs)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/hooks.py", line 228, in emit
    return self._emit(event_name, kwargs)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/hooks.py", line 211, in _emit
    response = handler(**kwargs)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/signers.py", line 90, in handler
    return self.sign(operation_name, request)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/signers.py", line 162, in sign
    auth.add_auth(request)
  File "/home/airflow/.local/lib/python3.6/site-packages/botocore/auth.py", line 357, in add_auth
    raise NoCredentialsError
botocore.exceptions.NoCredentialsError: Unable to locate credentials
[2023-06-20 21:40:03,653] {taskinstance.py:1288} INFO - Marking task as FAILED. dag_id=minio_sensor, task_id=minio_sensor_s3, execution_date=20230620T214000, start_date=20230620T214001, end_date=20230620T214003
[2023-06-20 21:40:03,665] {standard_task_runner.py:98} ERROR - Failed to execute job 5 for task minio_sensor_s3 (Unable to locate credentials; 546)
[2023-06-20 21:40:03,680] {local_task_job.py:154} INFO - Task exited with return code 1
[2023-06-20 21:40:03,708] {local_task_job.py:264} INFO - 0 downstream tasks scheduled from follow-on schedule check
